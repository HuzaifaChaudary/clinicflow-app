import { Appointment, Doctor, VoiceCallAttempt, Message, CancellationReason } from '../types/appointment';

// Mock doctors for multi-doctor scaling
export const mockDoctors: Doctor[] = [
  { id: 'dr1', name: 'Dr. Sarah Chen', initials: 'SC', specialty: 'Family Medicine', color: '#3b82f6' },
  { id: 'dr2', name: 'Dr. Michael Park', initials: 'MP', specialty: 'Internal Medicine', color: '#8b5cf6' },
  { id: 'dr3', name: 'Dr. Jennifer Williams', initials: 'JW', specialty: 'Pediatrics', color: '#06b6d4' },
  { id: 'dr4', name: 'Dr. David Rodriguez', initials: 'DR', specialty: 'Cardiology', color: '#f59e0b' },
  { id: 'dr5', name: 'Dr. Emily Thompson', initials: 'ET', specialty: 'Dermatology', color: '#ec4899' },
];

// Mock voice call attempts
const mockVoiceCallAttempts: Record<string, VoiceCallAttempt[]> = {
  '2': [
    {
      id: 'vc1',
      timestamp: '2026-01-01T08:30:00',
      duration: '1m 23s',
      status: 'completed',
      transcript: 'AI: Hello, this is Clinicflow calling to confirm your appointment today at 9:30 AM with Dr. Sarah Chen.\nPatient: Yes, I\'ll be there.\nAI: Great! Please remember to complete your intake forms before arrival.\nPatient: Okay, will do.',
    },
  ],
  '3': [
    {
      id: 'vc2',
      timestamp: '2026-01-01T08:15:00',
      duration: '45s',
      status: 'no-answer',
    },
    {
      id: 'vc3',
      timestamp: '2026-01-01T08:45:00',
      duration: '52s',
      status: 'no-answer',
    },
    {
      id: 'vc4',
      timestamp: '2026-01-01T09:15:00',
      duration: '1m 5s',
      status: 'in-progress',
      needsAttention: true,
      attentionReason: 'complex-question',
      transcript: 'AI: Hello, this is Clinicflow calling to confirm your appointment.\nPatient: I need to know if Dr. Chen can prescribe medication for my condition during a virtual visit?\nAI: I understand you have a question about prescriptions. Let me transfer you to our team.',
    },
  ],
  '5': [
    {
      id: 'vc5',
      timestamp: '2026-01-01T09:00:00',
      duration: '2m 10s',
      status: 'completed',
      needsAttention: true,
      attentionReason: 'requested-human',
      transcript: 'AI: Hello, this is Clinicflow calling about your appointment.\nPatient: I need to speak with a real person, please.\nAI: I\'ll flag this for our team to call you back.',
    },
  ],
  '10': [
    {
      id: 'vc6',
      timestamp: '2026-01-01T13:30:00',
      duration: '1m 45s',
      status: 'completed',
      needsAttention: true,
      attentionReason: 'paused-interaction',
      transcript: 'AI: Hello, this is Clinicflow.\nPatient: Hold on, I\'m driving. Can you call back in 10 minutes?\nAI: Of course, I\'ll have someone reach out shortly.',
    },
  ],
  '12': [
    {
      id: 'vc7',
      timestamp: '2026-01-01T14:00:00',
      duration: '38s',
      status: 'no-answer',
    },
  ],
};

// Mock messages
const mockMessages: Record<string, Message[]> = {
  '3': [
    {
      id: 'msg1',
      type: 'sms',
      direction: 'outbound',
      sender: 'ai',
      content: 'Hi Lisa, this is Clinicflow. Your appointment with Dr. Chen is at 10:00 AM today. Please confirm.',
      timestamp: '2026-01-01T08:00:00',
    },
    {
      id: 'msg2',
      type: 'sms',
      direction: 'inbound',
      sender: 'patient',
      content: 'Can I reschedule? Something came up.',
      timestamp: '2026-01-01T08:05:00',
      needsResponse: true,
    },
  ],
  '5': [
    {
      id: 'msg3',
      type: 'sms',
      direction: 'outbound',
      sender: 'ai',
      content: 'Hello Emily, reminder: your appointment is at 11:00 AM with Dr. Park.',
      timestamp: '2026-01-01T09:30:00',
    },
  ],
  '10': [
    {
      id: 'msg4',
      type: 'email',
      direction: 'outbound',
      sender: 'ai',
      content: 'Dear Christopher, please complete your intake forms before your 2:30 PM appointment.',
      timestamp: '2026-01-01T12:00:00',
    },
    {
      id: 'msg5',
      type: 'sms',
      direction: 'inbound',
      sender: 'patient',
      content: 'The intake form link is not working.',
      timestamp: '2026-01-01T13:15:00',
      needsResponse: true,
    },
  ],
};

// Mock cancelled appointments
const mockCancelledAppointments: Appointment[] = [
  {
    id: 'cancelled-1',
    time: '8:30 AM',
    duration: 30,
    patientName: 'Thomas Anderson',
    patientPhone: '(555) 111-2222',
    provider: 'Dr. Sarah Chen',
    visitType: 'in-clinic',
    status: { confirmed: true, intakeComplete: true, paid: false },
    indicators: { voiceCallSent: false, rescheduled: false },
    arrived: false,
    cancelled: true,
    cancellationReason: {
      type: 'patient-cancelled',
      note: 'Feeling better, no longer needs visit',
      timestamp: '2026-01-01T07:45:00',
      cancelledBy: 'Admin User',
    },
    totalCancellations: 2,
    cancellationHistory: [
      {
        type: 'patient-cancelled',
        note: 'Schedule conflict',
        timestamp: '2025-12-15T10:00:00',
        cancelledBy: 'Admin User',
      },
      {
        type: 'patient-cancelled',
        note: 'Feeling better, no longer needs visit',
        timestamp: '2026-01-01T07:45:00',
        cancelledBy: 'Admin User',
      },
    ],
  },
  {
    id: 'cancelled-2',
    time: '12:00 PM',
    duration: 30,
    patientName: 'Patricia Moore',
    patientPhone: '(555) 333-4444',
    provider: 'Dr. Michael Park',
    visitType: 'virtual',
    status: { confirmed: false, intakeComplete: false, paid: false },
    indicators: { voiceCallSent: true, rescheduled: false },
    arrived: false,
    cancelled: true,
    cancellationReason: {
      type: 'no-show',
      timestamp: '2026-01-01T12:15:00',
      cancelledBy: 'System Auto',
    },
    totalCancellations: 1,
  },
];

// Enhanced appointments with all new features
export const enhancedMockAppointments: Appointment[] = [
  {
    id: '1',
    time: '9:00 AM',
    duration: 30,
    patientName: 'Sarah Martinez',
    patientPhone: '(555) 123-4567',
    patientEmail: 'sarah.martinez@email.com',
    provider: 'Dr. Sarah Chen',
    visitType: 'in-clinic',
    visitCategory: 'follow-up',
    lastVisitDate: '2025-12-15',
    status: { confirmed: true, intakeComplete: true, paid: true },
    indicators: { voiceCallSent: false, rescheduled: false },
    arrived: true,
    date: '2026-01-01',
    intakeSummary: {
      completed: true,
      patientConcerns: ['Follow-up on blood pressure management'],
      medications: ['Lisinopril 10mg'],
      allergies: [],
    },
    doctorNotes: [
      {
        id: 'note-1',
        doctorId: 'dr1',
        content: 'Patient responding well to medication. BP stable at 120/80.',
        timestamp: '2025-12-15T14:30:00',
      },
    ],
    nextFollowUp: {
      date: '2026-02-01',
      note: 'Check BP again in 4 weeks',
      setBy: 'dr1',
      setAt: '2025-12-15T14:35:00',
    },
  },
  {
    id: '2',
    time: '9:30 AM',
    duration: 30,
    patientName: 'Michael Brown',
    patientPhone: '(555) 234-5678',
    patientEmail: 'mbrown@email.com',
    provider: 'Dr. Sarah Chen',
    visitType: 'in-clinic',
    visitCategory: 'new-patient',
    status: { confirmed: true, intakeComplete: false, paid: false },
    indicators: { voiceCallSent: true, rescheduled: false },
    arrived: false,
    needsAttention: true,
    date: '2026-01-01',
    voiceCallAttempts: mockVoiceCallAttempts['2'],
    intakeSummary: {
      completed: false,
    },
  },
  {
    id: '3',
    time: '10:00 AM',
    duration: 30,
    patientName: 'Lisa Anderson',
    patientPhone: '(555) 345-6789',
    patientEmail: 'lisa.a@email.com',
    provider: 'Dr. Sarah Chen',
    visitType: 'virtual',
    visitCategory: 'new-patient',
    status: { confirmed: false, intakeComplete: false, paid: false },
    indicators: { voiceCallSent: true, rescheduled: false },
    arrived: false,
    needsAttention: true,
    date: '2026-01-01',
    voiceCallAttempts: mockVoiceCallAttempts['3'],
    messages: mockMessages['3'],
    intakeSummary: {
      completed: false,
    },
  },
  {
    id: '4',
    time: '10:30 AM',
    duration: 45,
    patientName: 'James Wilson',
    patientPhone: '(555) 456-7890',
    provider: 'Dr. Jennifer Williams',
    visitType: 'in-clinic',
    visitCategory: 'follow-up',
    lastVisitDate: '2025-11-20',
    status: { confirmed: true, intakeComplete: true, paid: true },
    indicators: { voiceCallSent: false, rescheduled: false },
    arrived: false,
    date: '2026-01-01',
    intakeSummary: {
      completed: true,
      patientConcerns: ['Routine checkup for asthma'],
      medications: ['Albuterol inhaler'],
      allergies: ['Penicillin'],
    },
    doctorNotes: [
      {
        id: 'note-2',
        doctorId: 'dr3',
        content: 'Asthma well-controlled. Continue current medication.',
        timestamp: '2025-11-20T11:15:00',
      },
    ],
  },
  {
    id: '5',
    time: '11:00 AM',
    duration: 30,
    patientName: 'Emily Davis',
    patientPhone: '(555) 567-8901',
    patientEmail: 'emily.d@email.com',
    provider: 'Dr. Michael Park',
    visitType: 'in-clinic',
    visitCategory: 'new-patient',
    status: { confirmed: true, intakeComplete: false, paid: false },
    indicators: { voiceCallSent: true, rescheduled: false },
    arrived: false,
    needsAttention: true,
    date: '2026-01-01',
    voiceCallAttempts: mockVoiceCallAttempts['5'],
    messages: mockMessages['5'],
    intakeSummary: {
      completed: false,
    },
  },
  {
    id: '6',
    time: '11:15 AM',
    duration: 30,
    patientName: 'Robert Taylor',
    patientPhone: '(555) 678-9012',
    provider: 'Dr. David Rodriguez',
    visitType: 'virtual',
    visitCategory: 'follow-up',
    lastVisitDate: '2025-10-05',
    status: { confirmed: true, intakeComplete: true, paid: true },
    indicators: { voiceCallSent: false, rescheduled: false },
    arrived: false,
    date: '2026-01-01',
    intakeSummary: {
      completed: true,
      patientConcerns: ['Chest pain follow-up after stress test'],
      medications: ['Aspirin 81mg', 'Atorvastatin 20mg'],
      allergies: [],
    },
    doctorNotes: [
      {
        id: 'note-3',
        doctorId: 'dr4',
        content: 'Stress test normal. Continue current cardiac regimen.',
        timestamp: '2025-10-05T15:20:00',
      },
    ],
    nextFollowUp: {
      date: '2026-04-05',
      note: 'Annual cardiac checkup',
      setBy: 'dr4',
      setAt: '2025-10-05T15:25:00',
    },
  },
  {
    id: '7',
    time: '1:00 PM',
    duration: 30,
    patientName: 'Jennifer Lee',
    patientPhone: '(555) 789-0123',
    provider: 'Dr. Sarah Chen',
    visitType: 'in-clinic',
    visitCategory: 'new-patient',
    status: { confirmed: false, intakeComplete: true, paid: false },
    indicators: { voiceCallSent: false, rescheduled: true },
    arrived: false,
    needsAttention: true,
    date: '2026-01-01',
    intakeSummary: {
      completed: true,
      patientConcerns: ['Annual physical exam'],
    },
  },
  {
    id: '8',
    time: '1:30 PM',
    duration: 30,
    patientName: 'David Miller',
    patientPhone: '(555) 890-1234',
    provider: 'Dr. Emily Thompson',
    visitType: 'in-clinic',
    visitCategory: 'follow-up',
    lastVisitDate: '2025-09-12',
    status: { confirmed: true, intakeComplete: true, paid: true },
    indicators: { voiceCallSent: false, rescheduled: false },
    arrived: false,
    date: '2026-01-01',
    intakeSummary: {
      completed: true,
      patientConcerns: ['Skin rash follow-up'],
      medications: ['Hydrocortisone cream'],
      allergies: [],
    },
    doctorNotes: [
      {
        id: 'note-4',
        doctorId: 'dr5',
        content: 'Rash resolved. No further treatment needed.',
        timestamp: '2025-09-12T13:45:00',
      },
    ],
  },
  {
    id: '9',
    time: '2:00 PM',
    duration: 30,
    patientName: 'Maria Garcia',
    patientPhone: '(555) 901-2345',
    provider: 'Dr. Sarah Chen',
    visitType: 'virtual',
    visitCategory: 'new-patient',
    status: { confirmed: true, intakeComplete: true, paid: true },
    indicators: { voiceCallSent: false, rescheduled: false },
    arrived: false,
    date: '2026-01-01',
    intakeSummary: {
      completed: true,
      patientConcerns: ['Cold symptoms', 'Persistent cough'],
      allergies: ['Sulfa drugs'],
    },
  },
  {
    id: '10',
    time: '2:15 PM',
    duration: 45,
    patientName: 'Christopher White',
    patientPhone: '(555) 012-3456',
    patientEmail: 'c.white@email.com',
    provider: 'Dr. Michael Park',
    visitType: 'in-clinic',
    visitCategory: 'new-patient',
    status: { confirmed: true, intakeComplete: false, paid: false },
    indicators: { voiceCallSent: true, rescheduled: false },
    arrived: false,
    needsAttention: true,
    date: '2026-01-01',
    voiceCallAttempts: mockVoiceCallAttempts['10'],
    messages: mockMessages['10'],
    intakeSummary: {
      completed: false,
    },
  },
  {
    id: '11',
    time: '3:00 PM',
    duration: 30,
    patientName: 'Amanda Johnson',
    patientPhone: '(555) 123-7890',
    provider: 'Dr. Jennifer Williams',
    visitType: 'in-clinic',
    visitCategory: 'follow-up',
    lastVisitDate: '2025-12-01',
    status: { confirmed: true, intakeComplete: true, paid: true },
    indicators: { voiceCallSent: false, rescheduled: false },
    arrived: false,
    date: '2026-01-01',
    intakeSummary: {
      completed: true,
      patientConcerns: ['Child wellness checkup'],
      medications: [],
      allergies: [],
    },
    doctorNotes: [
      {
        id: 'note-5',
        doctorId: 'dr3',
        content: 'Growth and development on track. All vaccinations up to date.',
        timestamp: '2025-12-01T15:20:00',
      },
    ],
  },
  {
    id: '12',
    time: '3:45 PM',
    duration: 30,
    patientName: 'Kevin Brown',
    patientPhone: '(555) 234-8901',
    provider: 'Dr. David Rodriguez',
    visitType: 'virtual',
    visitCategory: 'new-patient',
    status: { confirmed: false, intakeComplete: false, paid: false },
    indicators: { voiceCallSent: true, rescheduled: false },
    arrived: false,
    needsAttention: true,
    date: '2026-01-01',
    voiceCallAttempts: mockVoiceCallAttempts['12'],
    intakeSummary: {
      completed: false,
    },
  },
];

export { mockCancelledAppointments };

// Provider availability for rescheduling
export const generateProviderAvailability = (providerId: string, date: string) => {
  const times = [
    '9:00 AM', '9:15 AM', '9:30 AM', '9:45 AM',
    '10:00 AM', '10:15 AM', '10:30 AM', '10:45 AM',
    '11:00 AM', '11:15 AM', '11:30 AM', '11:45 AM',
    '1:00 PM', '1:15 PM', '1:30 PM', '1:45 PM',
    '2:00 PM', '2:15 PM', '2:30 PM', '2:45 PM',
    '3:00 PM', '3:15 PM', '3:30 PM', '3:45 PM',
    '4:00 PM', '4:15 PM', '4:30 PM',
  ];

  // Randomly make some slots unavailable to simulate real availability
  const bookedTimes = [
    '9:00 AM', '9:30 AM', '10:30 AM', '11:00 AM',
    '1:00 PM', '2:15 PM', '3:00 PM',
  ];

  return times.map(time => ({
    time,
    available: !bookedTimes.includes(time),
  }));
};